<%- include('layouts/header') %>

    <div class="todomainclass">

        <!-- declaring page title -->
        <div class="title" id="toTitle">
            <h3>To do</h3>
        </div>

        <div class="container" id="loginAsContainer">
            <div class="accordion" id="accordionFlushID">
                <!-- logout arccordian item -->
                <div class="accordion-item">

                    <a href="#logout" type="button btn-link" data-bs-toggle="collapse" data-bs-target="#LogoutButton"
                        aria-expanded="true" aria-controls="flush-collapseOne"><svg xmlns="http://www.w3.org/2000/svg"
                            width="16" height="16" fill="currentColor" class="bi bi-gear-fill" viewBox="0 0 16 16">
                            <path
                                d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z" />
                        </svg> Logged in as <%= username %> </a>
                    <!-- logout button  -->
                    <div class="collapse" id="LogoutButton">
                        <form action="/logout" method="post">
                            <div class="card card-body" id="logButton">
                                <input type="submit" value="Log Out" name="logout" class="btn btn-primary">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- creating the list container  -->
        <div class="container" id="listcontainer">

            <div class="newElements">
                <!-- this is for adding new tasks  -->
                <%- include("addtask",{taskList:taskList,username : username}) -%>

                    <!-- for claiming the tasks -->
                    <%- include("claim",{taskList:taskList,username : username}) -%>

                        <!-- user clicks on check box  -->
                        <%- include("taskcomplete",{taskList:taskList,username : username}) -%>


                            <!-- removing completed tasks  -->
                            <%- include("removeComplete",{taskList:taskList,username : username}) -%>

            </div>


            <!-- add button -->
            <form action="/addtask" method="post" autocomplete="off">
                <input type="hidden" name="email" value=<%=username%> class="form-control">
                <div class="input-group mb-3">
                    <input type="text" id="inputbox" name="inputValue" class="form-control"
                        placeholder="Enter a new task here!">
                    <input type="submit" id="addbutton" class="btn btn-outline-secondary" value="Add">
                </div>
            </form>


            <!-- claim elements div -->
            <!-- <div class="claimedElements">
                
            </div> -->

            <!-- abandon elements div  -->
            <!-- <div class="abandonedElements">
                
            </div> -->

            <!-- Remove button -->
            <form action="/purge" method="post">
                <div class="button" id="removebutton">
                <input type="hidden" name="email" value=<%=username%> class="form-control">
                    <button type="submit" id="removebutton" name="removeComplete"
                        class="btn btn-outline-secondary">Remove
                        Complete</button>
                </div>
            </form>


        </div>





    </div>



    </div>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <!-- <script src="js/script.js"></script> -->

    <%- include("layouts/footer") %>